<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Animal Sound Game</title>
<style>
body {
    text-align: center;
    font-family: Arial, sans-serif;
}

h1 { margin-top: 20px; }

button {
    padding: 10px 20px;
    font-size: 18px;
    margin: 10px;
    cursor: pointer;
}

#gameArea { display: none; }

.info {
    font-size: 20px;
    margin: 10px;
}

.cards {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

.cards img {
    width: 150px;
    height: 150px;
    cursor: pointer;
}

#result {
    font-size: 24px;
    margin-top: 20px;
}
</style>
</head>

<body>

<h1>ğŸ”Š ãªã‚“ã®ã©ã†ã¶ã¤ï¼Ÿ</h1>

<div id="startScreen">
    <p>æ™‚é–“ã‚’ãˆã‚‰ã‚“ã§ãã ã•ã„</p>
    <button onclick="startGame(60)">1åˆ†</button>
    <button onclick="startGame(120)">2åˆ†</button>
    <button onclick="startGame(0)">ç„¡åˆ¶é™</button>
</div>

<div id="gameArea">
    <div class="info">
        â° ã‚¿ã‚¤ãƒãƒ¼: <span id="timer">0</span>
        â­ ã‚¹ã‚³ã‚¢: <span id="score">0</span>
        âŒ ã‚¹ãƒˆãƒ©ã‚¤ã‚¯: <span id="strike">0</span>
    </div>

    <button onclick="playSound()">â–¶ éŸ³ã‚’ãã</button>

    <div class="cards" id="cards"></div>

    <div id="result"></div>
</div>

<script>
const animals = ["dog", "panda", "bore", "horse", "raccoon", "gorilla","koara", "zebra"];

let currentAnswer = "";
let score = 0;
let strike = 0;
let timeLeft = 0;
let timerInterval = null;

function startGame(seconds) {
    document.getElementById("startScreen").style.display = "none";
    document.getElementById("gameArea").style.display = "block";

    score = 0;
    strike = 0;
    updateDisplay();

    if (seconds > 0) {
        timeLeft = seconds;
        document.getElementById("timer").textContent = timeLeft;
        timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById("timer").textContent = timeLeft;
            if (timeLeft <= 0) {
                endGame();
            }
        }, 1000);
    } else {
        document.getElementById("timer").textContent = "âˆ";
    }

    nextQuestion();
}

function nextQuestion() {
    document.getElementById("result").textContent = "";
    generateCards();
    playSound();
}

function generateCards() {
    const cardsDiv = document.getElementById("cards");
    cardsDiv.innerHTML = "";

    let shuffled = [...animals].sort(() => 0.5 - Math.random());
    let choices = shuffled.slice(0, 3);

    currentAnswer = choices[Math.floor(Math.random() * 3)];

    choices.forEach(animal => {
        const img = document.createElement("img");
        img.src = "images/" + animal + ".png";
        img.onclick = () => checkAnswer(animal);
        cardsDiv.appendChild(img);
    });
}

function playSound() {
    const audio = new Audio("sounds/" + currentAnswer + ".m4a");
    audio.play();
}

function checkAnswer(selected) {
    if (selected === currentAnswer) {
        score++;
        document.getElementById("result").textContent = "â­• ã›ã„ã‹ã„ï¼";
        updateDisplay();
        setTimeout(nextQuestion, 800);
    } else {
        strike++;
        document.getElementById("result").textContent = "âŒ ã¡ãŒã†ã‚ˆ";
        updateDisplay();
    }
}

function updateDisplay() {
    document.getElementById("score").textContent = score;
    document.getElementById("strike").textContent = strike;
}

function endGame() {
    clearInterval(timerInterval);
    alert("æ™‚é–“åˆ‡ã‚Œï¼ã‚¹ã‚³ã‚¢: " + score + " / ã‚¹ãƒˆãƒ©ã‚¤ã‚¯: " + strike);
    location.reload();
}
</script>

</body>
</html>
